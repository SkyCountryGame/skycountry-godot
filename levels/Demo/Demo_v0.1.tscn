[gd_scene load_steps=48 format=3 uid="uid://hmgp0540tje8"]

[ext_resource type="PackedScene" uid="uid://c4hhml2qqr8n8" path="res://gameobjects/tscn/DemoBuildings/lodging_building_demo.tscn" id="1_1jaco"]
[ext_resource type="Script" path="res://levels/Level.cs" id="1_kq37l"]
[ext_resource type="PackedScene" uid="uid://bantfsh2sxy0v" path="res://ui/hud.tscn" id="1_q8fr7"]
[ext_resource type="Texture2D" uid="uid://dybwwo18l6ad3" path="res://assets/sky_hdri/Sky_Anime_01_Day_a.png" id="2_3vwmo"]
[ext_resource type="PackedScene" uid="uid://dypfjsi5lkpp6" path="res://gameobjects/tscn/DemoBuildings/market_building_demo.tscn" id="2_ucx1i"]
[ext_resource type="PackedScene" uid="uid://c5j50bf0y8cpb" path="res://ui/devtool.tscn" id="2_vmfbb"]
[ext_resource type="Script" path="res://brain/Camera.cs" id="3_byha7"]
[ext_resource type="PackedScene" uid="uid://bibpl4warnq50" path="res://gameobjects/tscn/DemoBuildings/player_house_demo.tscn" id="3_f6faj"]
[ext_resource type="Script" path="res://addons/zylann.hterrain/hterrain.gd" id="4_sbx5e"]
[ext_resource type="Resource" path="res://assets/DemoTerrain/data.hterrain" id="5_fajaf"]
[ext_resource type="Script" path="res://addons/zylann.hterrain/hterrain_texture_set.gd" id="6_uacsr"]
[ext_resource type="Texture2D" uid="uid://q2o4m8elvbtd" path="res://assets/texture/Environment/Grass/Grass_Simple.png" id="7_jip43"]
[ext_resource type="Texture2D" uid="uid://ddju5hjo4qpxf" path="res://assets/texture/Environment/Dirt/Dirt.png" id="8_cj0oj"]
[ext_resource type="Texture2D" uid="uid://ds46gopvilnro" path="res://assets/texture/Environment/Stone/Stone.png" id="9_qjwo7"]
[ext_resource type="Texture2D" uid="uid://c1spdckqp8hr5" path="res://assets/texture/Environment/Mud/Mud.png" id="10_e8vfu"]
[ext_resource type="Script" path="res://gameobjects/SpawnPoint.cs" id="11_kvv3g"]
[ext_resource type="PackedScene" uid="uid://cirg5lcesnafx" path="res://player/player.tscn" id="13_2fyb0"]
[ext_resource type="Shape3D" uid="uid://fq5v2apmp1qq" path="res://assets/shape_floor.tres" id="13_ebm4n"]
[ext_resource type="PackedScene" uid="uid://dmm0d1yk4for1" path="res://gameobjects/tscn/rocks/rock_9.tscn" id="17_d1aw2"]
[ext_resource type="PackedScene" uid="uid://bastkr21aocj7" path="res://gameobjects/tscn/rocks/rock_12.tscn" id="18_6qjtl"]
[ext_resource type="PackedScene" uid="uid://dsps3r388alcd" path="res://gameobjects/tscn/rocks/rock_11.tscn" id="19_pm21m"]
[ext_resource type="PackedScene" uid="uid://csouptwyxpo23" path="res://gameobjects/tscn/rocks/rock_10.tscn" id="20_qhbjg"]
[ext_resource type="Material" uid="uid://dbl6fhw5qvmba" path="res://assets/Materials/DummyMaterials/DummyWood.tres" id="21_vtgu2"]
[ext_resource type="Material" uid="uid://cs77spgadl1cx" path="res://assets/Materials/DummyMaterials/DummyMetal.tres" id="22_bokwp"]
[ext_resource type="PackedScene" uid="uid://3bbxp23apgws" path="res://gameobjects/tscn/Wood Props/barrel_01.tscn" id="24_64q68"]
[ext_resource type="PackedScene" uid="uid://bmhrehrmqpce1" path="res://gameobjects/tscn/Wood Props/barrel_02.tscn" id="25_6mkl0"]
[ext_resource type="Script" path="res://characters/Bird.cs" id="27_k0d2h"]
[ext_resource type="Script" path="res://util/TimerRandomInterval.cs" id="29_f1hf2"]
[ext_resource type="Texture2D" uid="uid://casnjqwudl8rm" path="res://assets/texture/face5.png" id="30_xd4ec"]
[ext_resource type="PackedScene" uid="uid://bqqrx3ymrx5a0" path="res://characters/blockhead.tscn" id="31_tvud5"]
[ext_resource type="PackedScene" uid="uid://t0deicl6s7yp" path="res://gameobjects/trees/RegularTree1_A.tscn" id="32_orf7b"]
[ext_resource type="PackedScene" uid="uid://bqpyrcuk2g8ua" path="res://gameobjects/trees/RegularTree2_A.tscn" id="33_2l3aj"]
[ext_resource type="PackedScene" uid="uid://chcp2xs5tfiny" path="res://gameobjects/trees/RegularTree3_A.tscn" id="34_uyj4k"]
[ext_resource type="PackedScene" uid="uid://c0dfq044em5yn" path="res://gameobjects/trees/RegularSapling1_A.tscn" id="35_226f8"]
[ext_resource type="PackedScene" uid="uid://capfbrg2ju6q2" path="res://gameobjects/trees/RegularSapling2_A.tscn" id="36_jqwoy"]
[ext_resource type="PackedScene" uid="uid://ckafih2k5orxu" path="res://gameobjects/trees/RegularTree1_B.tscn" id="37_dev8b"]
[ext_resource type="PackedScene" uid="uid://ggn65mne3c6n" path="res://gameobjects/trees/RegularTree2_B.tscn" id="38_fwcs8"]
[ext_resource type="PackedScene" uid="uid://dbrwdpclvsbax" path="res://gameobjects/trees/RegularTree3_B.tscn" id="39_vbd3j"]
[ext_resource type="PackedScene" uid="uid://fs3bk1pprmjk" path="res://gameobjects/trees/RegularSapling1_B.tscn" id="40_epou2"]
[ext_resource type="PackedScene" uid="uid://dbiumpjqlpiku" path="res://gameobjects/trees/tree_object.tscn" id="40_rofaf"]
[ext_resource type="PackedScene" uid="uid://dfi06lj0pphin" path="res://gameobjects/trees/RegularSapling2_B.tscn" id="41_6s2o2"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_fp232"]
panorama = ExtResource("2_3vwmo")
energy_multiplier = 2.16

[sub_resource type="Sky" id="Sky_6m6wn"]
sky_material = SubResource("PanoramaSkyMaterial_fp232")

[sub_resource type="Environment" id="Environment_eexlt"]
background_mode = 2
sky = SubResource("Sky_6m6wn")
ambient_light_source = 3
ambient_light_color = Color(0.3366, 0.68508, 0.99, 1)
ambient_light_energy = 1.49

[sub_resource type="Resource" id="Resource_88805"]
script = ExtResource("6_uacsr")
mode = 0
textures = [[ExtResource("7_jip43"), ExtResource("8_cj0oj"), ExtResource("9_qjwo7"), ExtResource("10_e8vfu")], [null, null, null, null]]

[sub_resource type="NavigationMesh" id="NavigationMesh_1n15s"]
vertices = PackedVector3Array(-59.5, 0.07, -59.5, -59.5, 0.07, 59.5, 59.5, 0.07, 59.5, 59.5, 0.07, -59.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]
geometry_parsed_geometry_type = 2
cell_height = 0.01

[sub_resource type="SphereShape3D" id="SphereShape3D_0m0tt"]

[node name="Wod" type="Node3D" node_paths=PackedStringArray("sunlight", "navRegion")]
script = ExtResource("1_kq37l")
sunlight = NodePath("DirectionalLight3D")
navRegion = NodePath("NavigationRegion3D")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_eexlt")

[node name="DirectionalLight3D3" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(-0.791587, 0.471953, -0.388138, 0.0823572, 0.711796, 0.697541, 0.605481, 0.520198, -0.602317, 2.80378, 29.0259, 25.7876)
light_angular_distance = 0.25
shadow_enabled = true
sky_mode = 1

[node name="HTerrain" type="Node3D" parent="."]
script = ExtResource("4_sbx5e")
centered = true
_terrain_data = ExtResource("5_fajaf")
chunk_size = 32
collision_enabled = true
collision_layer = 1
collision_mask = 1
shader_type = "Classic4"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource("Resource_88805")
render_layers = 1
cast_shadow = 1
shader_params/u_ground_uv_scale_per_texture = Vector4(6, 6, 0, 6)
shader_params/u_depth_blending = true
shader_params/u_triplanar = null
shader_params/u_tile_reduction = null
shader_params/u_globalmap_blend_start = null
shader_params/u_globalmap_blend_distance = null
shader_params/u_colormap_opacity_per_texture = null

[node name="Devtool" parent="." instance=ExtResource("2_vmfbb")]

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target", "HUD")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.7044, 10.9519, 24.1525)
script = ExtResource("3_byha7")
target = NodePath("../Player")
HUD = NodePath("../HUD")

[node name="HUD" parent="." instance=ExtResource("1_q8fr7")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_1n15s")

[node name="Floor" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor"]
shape = ExtResource("13_ebm4n")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 28.1771, 7.19891)
light_energy = 0.0

[node name="Player" parent="." instance=ExtResource("13_2fyb0")]
transform = Transform3D(1, 0.000750492, 0, -0.000750492, 1, 0, 0, 0, 1, -9.25845, 4.76837e-07, 17.2892)

[node name="LodgingBuildingDemo" parent="." instance=ExtResource("1_1jaco")]
transform = Transform3D(1, 0, -4.47035e-08, 0, 1, 0, 4.47035e-08, 0, 1, -13.8096, -1.90735e-06, -3.01665)

[node name="MarketBuildingDemo" parent="." instance=ExtResource("2_ucx1i")]
transform = Transform3D(-4.47035e-08, 0, -1, 0, 1, 0, 1, 0, -4.47035e-08, 6.28999, -9.53674e-07, 13.7739)

[node name="MarketBuildingDemo2" parent="." instance=ExtResource("2_ucx1i")]
transform = Transform3D(-1, 0, 8.84149e-08, 0, 1, 0, -8.84149e-08, 0, -1, -10.6405, -9.53674e-07, 24.7519)

[node name="PlayerHouseDemo" parent="." instance=ExtResource("3_f6faj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.96001, 0, 1.82142)

[node name="spawnpoint" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.97308, 1.66496, 13.3522)
script = ExtResource("11_kvv3g")

[node name="Rock9" parent="." instance=ExtResource("17_d1aw2")]
transform = Transform3D(-0.144988, -0.427423, 0.999093, 0.112654, 1.10802, 0.401941, -1.00751, 0.185402, -0.0988334, -4.22986, 0.057019, 13.1832)

[node name="Rock29" parent="." instance=ExtResource("17_d1aw2")]
transform = Transform3D(-0.351304, 0.355633, -0.696162, 0.0858562, 0.863618, 0.320119, 0.69165, 0.0734307, -0.393332, -10.9991, 0.057019, 14.1011)

[node name="Firepit" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.73536, -0.0521517, 13.7329)

[node name="Rock12" parent="Firepit" instance=ExtResource("18_6qjtl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.55387, 0.123274, 0.112684)

[node name="Rock11" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(0.713837, 0, 0.700311, 0, 1, 0, -0.700311, 0, 0.713837, 1.05688, 0.125015, -0.896526)

[node name="Rock10" parent="Firepit" instance=ExtResource("20_qhbjg")]
transform = Transform3D(-0.449818, 0, 0.89312, 0, 1, 0, -0.89312, 0, -0.449818, 1.55447, 0.123546, 0.839061)

[node name="Rock13" parent="Firepit" instance=ExtResource("18_6qjtl")]
transform = Transform3D(0.467822, 0, -0.883823, 0, 1, 0, 0.883823, 0, 0.467822, 0.86746, 0.123274, 1.31615)

[node name="Rock24" parent="Firepit" instance=ExtResource("18_6qjtl")]
transform = Transform3D(-0.820471, 0, -0.571688, 0, 1, 0, 0.571688, 0, -0.820471, 0.316372, 0.00401256, 1.31778)

[node name="Rock14" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(0.9529, 0, -0.303285, 0, 1, 0, 0.303285, 0, 0.9529, 1.53781, 0.125016, -0.538968)

[node name="Rock28" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(0.9529, 0, -0.303285, 0, 1, 0, 0.303285, 0, 0.9529, -0.394244, 0.125016, -1.81155)

[node name="Rock27" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(0.991996, 0, 0.126268, 0, 1, 0, -0.126268, 0, 0.991996, -0.838116, 0.02532, 0.911329)

[node name="Rock25" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(0.934794, 0.109855, -0.337775, -0.210174, 0.937693, -0.276692, 0.286333, 0.329641, 0.899639, 1.07962, 0.0474288, 0.832794)

[node name="Rock26" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(0.934794, 0.109855, -0.337775, -0.210174, 0.937693, -0.276692, 0.286333, 0.329641, 0.899639, -1.1129, 0.0474288, -0.47129)

[node name="Rock19" parent="Firepit" instance=ExtResource("18_6qjtl")]
transform = Transform3D(-0.901893, 0, -0.43196, 0, 1, 0, 0.43196, 0, -0.901893, -1.36789, 0.123274, 0.370499)

[node name="Rock20" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(-0.999212, 0, 0.0396958, 0, 1, 0, -0.0396958, 0, -0.999212, -0.675477, 0.125015, 1.39297)

[node name="Rock21" parent="Firepit" instance=ExtResource("20_qhbjg")]
transform = Transform3D(0.79148, 0, -0.611196, 0, 1, 0, 0.611196, 0, 0.79148, -1.62535, 0.123546, -0.291342)

[node name="Rock22" parent="Firepit" instance=ExtResource("18_6qjtl")]
transform = Transform3D(-0.803701, 0, 0.595033, 0, 1, 0, -0.595033, 0, -0.803701, -1.22492, 0.123273, -0.952311)

[node name="Rock23" parent="Firepit" instance=ExtResource("19_pm21m")]
transform = Transform3D(-0.990421, 0, -0.138084, 0, 1, 0, 0.138084, 0, -0.990421, -1.35559, 0.125015, 0.975561)

[node name="Rock15" parent="Firepit" instance=ExtResource("20_qhbjg")]
transform = Transform3D(-0.339899, -0.221393, 0.914032, 0.156539, 0.94502, 0.287111, -0.927343, 0.24067, -0.286555, -0.259941, 0.123546, 1.67553)

[node name="Rock16" parent="Firepit" instance=ExtResource("20_qhbjg")]
transform = Transform3D(0.175642, 0, -0.984454, 0, 1, 0, 0.984454, 0, 0.175642, -0.654336, 0.120478, -1.33436)

[node name="Rock17" parent="Firepit" instance=ExtResource("18_6qjtl")]
transform = Transform3D(-0.195553, 0, 0.980693, 0, 1, 0, -0.980693, 0, -0.195553, 0.0545011, 0.123274, -1.55879)

[node name="Rock18" parent="Firepit" instance=ExtResource("20_qhbjg")]
transform = Transform3D(-0.806222, 0, -0.702803, 0, 1.44571, 0, 0.630094, 0, -0.899255, 0.736363, 0.125877, -1.53273)

[node name="LightPost" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.59297, 0, 6.97627)

[node name="CSGBox3D" type="CSGBox3D" parent="LightPost"]
transform = Transform3D(0.9655, 0, -0.260403, 0, 1, 0, 0.260403, 0, 0.9655, -0.463247, 2.25073, -0.114337)
material_override = ExtResource("22_bokwp")
size = Vector3(0.314941, 1, 0.714905)

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="LightPost"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0348816, 3.36375, -0.039382)
material_override = ExtResource("21_vtgu2")
use_collision = true
radius = 0.319519
height = 7.04056

[node name="CSGCylinder3D2" type="CSGCylinder3D" parent="LightPost"]
transform = Transform3D(1, 0, 0, 0, 0.0648099, 0, 0, 0, 1, -0.914634, 6.58393, 0.166475)
material_override = ExtResource("22_bokwp")
use_collision = true
radius = 0.469928
height = 3.31591

[node name="CSGCylinder3D3" type="CSGCylinder3D" parent="LightPost"]
transform = Transform3D(0.00287731, 0.0630612, 0.230708, -0.999992, 0.000140278, 0.00334294, 0.00275339, -0.0149527, 0.973018, -0.487276, 6.91153, 0.0999074)
material_override = ExtResource("22_bokwp")
use_collision = true
radius = 0.0786634
height = 14.2948

[node name="SpotLight3D" type="SpotLight3D" parent="LightPost"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.947013, 6.22522, 0.158668)
light_energy = 1.103
spot_range = 15.8984
spot_angle = 21.478

[node name="Barrel01" parent="." instance=ExtResource("24_64q68")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.1887, 0.5, 12.8749)

[node name="Barrel02" parent="." instance=ExtResource("25_6mkl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -35.4094, 0.5, -11.2468)

[node name="Bird" type="Node3D" parent="." node_paths=PackedStringArray("stations", "physBody", "nav", "listenerNodes")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -45.0094, 13.6395, 0)
script = ExtResource("27_k0d2h")
stations = [NodePath("../Barrel01"), NodePath("../Barrel02")]
physBody = NodePath("CharacterBody3D")
nav = NodePath("NavigationAgent3D")
states = Array[int]([0, 1])
listenerNodes = []

[node name="Timer" type="Timer" parent="Bird"]
wait_time = 5.356
autostart = true
script = ExtResource("29_f1hf2")
baseWaitTime = 4

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="Bird"]
avoidance_enabled = true

[node name="CharacterBody3D" type="CharacterBody3D" parent="Bird"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Bird/CharacterBody3D"]
shape = SubResource("SphereShape3D_0m0tt")

[node name="Sprite3D" type="Sprite3D" parent="Bird/CharacterBody3D"]
texture = ExtResource("30_xd4ec")

[node name="Blockhead" parent="." node_paths=PackedStringArray("stations") instance=ExtResource("31_tvud5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -43.323, 0, 0)
stations = [NodePath("../Barrel01"), NodePath("../Barrel02"), NodePath("../Firepit"), NodePath("../Sapling3")]
radius = 1.0

[node name="Blockhead2" parent="." node_paths=PackedStringArray("stations") instance=ExtResource("31_tvud5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 9.97393)
stations = [NodePath("../Sapling3"), NodePath("../Tree6"), NodePath("../Tree5")]

[node name="Tree4" parent="." instance=ExtResource("32_orf7b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.9517, -1.19209e-07, -4.40123)

[node name="Tree5" parent="." instance=ExtResource("33_2l3aj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20.3207, 1.19209e-07, -1.5117)

[node name="Tree6" parent="." instance=ExtResource("34_uyj4k")]
transform = Transform3D(-0.120483, 0, 0.992715, 0, 1, 0, -0.992715, 0, -0.120483, 3.7024, 0.0251074, -9.86606)

[node name="Sapling3" parent="." instance=ExtResource("35_226f8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.0715, 2.38419e-07, 6.29343)

[node name="Sapling4" parent="." instance=ExtResource("36_jqwoy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.275, 1.19209e-07, 20.4493)

[node name="Tree7" parent="." instance=ExtResource("37_dev8b")]
transform = Transform3D(2.06198, 0, 0, 0, 1.28961, 0, 0, 0, 2.48655, 14.6151, -1.90735e-06, 9.07775)

[node name="Tree8" parent="." instance=ExtResource("38_fwcs8")]
transform = Transform3D(1.335, 0, 0, 0, 1.20118, 0, 0, 0, 1.335, -5.52852, 0, -4.73583)

[node name="Tree9" parent="." instance=ExtResource("39_vbd3j")]
transform = Transform3D(-1.10924, 0, 3.18433, 0, 1.49914, 0, -2.44462, 0, -1.44488, 9.64721, 0, -0.590305)

[node name="Sapling7" parent="." instance=ExtResource("40_epou2")]
transform = Transform3D(-0.637113, 0, -1.30423, 0, 1.33323, 0, 1.30373, 0, -0.637358, 16.4813, -4.77902, -0.771862)

[node name="Sapling8" parent="." instance=ExtResource("40_epou2")]
transform = Transform3D(-0.336285, 0, 1.41212, 0, 1.33323, 0, -1.41158, 0, -0.336414, 12.4072, -4.61163, -1.47794)

[node name="Sapling5" parent="." instance=ExtResource("40_epou2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18.2793, 0, 0.847713)

[node name="Sapling6" parent="." instance=ExtResource("41_6s2o2")]
transform = Transform3D(0.800857, 0, -0.598856, 0, 1, 0, 0.598856, 0, 0.800857, -23.604, 0, -9.65204)

[node name="TreeObject" parent="." instance=ExtResource("40_rofaf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.7082, 0, 18.0982)

[connection signal="timeout" from="Bird/Timer" to="Bird" method="SwitchActivity"]
