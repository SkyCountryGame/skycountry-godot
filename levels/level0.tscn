[gd_scene load_steps=49 format=3 uid="uid://dwjmpt5fbaak2"]

[ext_resource type="Script" path="res://levels/Level0.cs" id="1_iiogu"]
[ext_resource type="PackedScene" uid="uid://bantfsh2sxy0v" path="res://ui/hud.tscn" id="2_fsd0o"]
[ext_resource type="Script" path="res://gameobjects/LampPost.cs" id="7_ph10c"]
[ext_resource type="Script" path="res://brain/Camera.cs" id="8_7fw5a"]
[ext_resource type="PackedScene" uid="uid://bvvscrhuoifvh" path="res://gameobjects/lamp_post_2.tscn" id="8_87jf0"]
[ext_resource type="PackedScene" uid="uid://mpnfn272l8i6" path="res://gameobjects/moving_platform_3.tscn" id="8_t3ins"]
[ext_resource type="PackedScene" uid="uid://cirg5lcesnafx" path="res://player/player.tscn" id="8_ywuup"]
[ext_resource type="Script" path="res://gameobjects/Talker.cs" id="9_80eq6"]
[ext_resource type="Script" path="res://gameobjects/Drugz.cs" id="10_c8j53"]
[ext_resource type="PackedScene" uid="uid://b7suifadqfxfl" path="res://gameobjects/rock.tscn" id="11_xa5x2"]
[ext_resource type="Shape3D" uid="uid://fq5v2apmp1qq" path="res://assets/shape_floor.tres" id="12_knnwi"]
[ext_resource type="PackedScene" uid="uid://c5j50bf0y8cpb" path="res://ui/devtool.tscn" id="13_3aiva"]
[ext_resource type="PackedScene" uid="uid://baxb55hiiyj8j" path="res://gameobjects/interactable_node.tscn" id="13_bvu8j"]
[ext_resource type="PackedScene" uid="uid://br20useqsu0ey" path="res://gameobjects/pickaxe.tscn" id="13_cokk8"]
[ext_resource type="PackedScene" uid="uid://buydkmv2qkxpr" path="res://gameobjects/death_wall.tscn" id="14_hhq11"]
[ext_resource type="Script" path="res://gameobjects/Clickable.cs" id="14_yk8hg"]
[ext_resource type="Script" path="res://gameobjects/Glower.cs" id="15_m6ir7"]
[ext_resource type="Script" path="res://brain/CollisionZone.cs" id="16_p6gv0"]
[ext_resource type="Script" path="res://character/NPCNode.cs" id="19_jnosp"]
[ext_resource type="Resource" uid="uid://bq1tpsxc5ol1m" path="res://characters/npc0.tres" id="20_menxn"]
[ext_resource type="PackedScene" uid="uid://c4em7nm7axjkt" path="res://ui/pause_menu.tscn" id="22_744mc"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lwqku"]
sky_top_color = Color(0.541176, 0.423529, 0.290196, 1)
sky_horizon_color = Color(0.676471, 0.65, 0.614706, 1)
sky_energy_multiplier = 1.5
ground_bottom_color = Color(0.164706, 0.176471, 0.168627, 1)
ground_horizon_color = Color(0.676471, 0.65, 0.614706, 1)

[sub_resource type="Sky" id="Sky_3r2si"]
sky_material = SubResource("ProceduralSkyMaterial_lwqku")

[sub_resource type="Environment" id="Environment_mck8e"]
background_mode = 2
sky = SubResource("Sky_3r2si")
ambient_light_source = 1
tonemap_mode = 2

[sub_resource type="TorusMesh" id="TorusMesh_cl3xm"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_jdkl7"]

[sub_resource type="NavigationMesh" id="NavigationMesh_k2ft2"]
vertices = PackedVector3Array(-24.5, 0.5, -24.5, -24.5, 0.5, 24.5, 24.5, 0.5, 24.5, 24.5, 0.5, -24.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="MeshTexture" id="MeshTexture_luta6"]
base_texture = ExtResource("10_g2nbi")
image_size = Vector2(64, 64)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t4q33"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4jcw5"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_72h3h"]
specular_mode = 1
metallic_specular = 0.34
roughness_texture_channel = 1
refraction_texture_channel = 4

[sub_resource type="PlaneMesh" id="PlaneMesh_q726u"]
material = SubResource("StandardMaterial3D_72h3h")
size = Vector2(50, 50)

[sub_resource type="SphereShape3D" id="SphereShape3D_gcr6y"]

[sub_resource type="PrismMesh" id="PrismMesh_j76bu"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qc06o"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_gbdax"]

[sub_resource type="CylinderMesh" id="CylinderMesh_2i0b2"]

[sub_resource type="SphereShape3D" id="SphereShape3D_h53f8"]
margin = 0.0
radius = 10.862

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_fwpd7"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_sin67"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vxpf4"]
albedo_color = Color(1.58831e-06, 0.616792, 0.524772, 1)
metallic = 0.11
metallic_specular = 0.16
emission_enabled = true
emission = Color(0.908911, 0.866702, 0.900103, 1)
emission_energy_multiplier = 0.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_s4jn6"]

[sub_resource type="BoxShape3D" id="BoxShape3D_j3cbx"]

[sub_resource type="BoxMesh" id="BoxMesh_ok0df"]

[node name="Wod" type="Node3D" node_paths=PackedStringArray("sunlight", "navRegion")]
process_mode = 1
script = ExtResource("1_iiogu")
sunlight = NodePath("DirectionalLight3D")
navRegion = NodePath("NavigationRegion3D")

[node name="HUD" parent="." instance=ExtResource("2_fsd0o")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_mck8e")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707602, 0.287481, -0.645488, 0.244313, 0.757621, 0.605245, 0.663032, -0.585974, 0.465858, -3.27003, 36.1152, 10.5027)
light_color = Color(0.796172, 0.801828, 0.649819, 1)
light_energy = 0.92
light_indirect_energy = 0.16
light_angular_distance = 4.05
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 1.0
shadow_opacity = 0.85
shadow_blur = 0.5
directional_shadow_fade_start = 0.74
directional_shadow_pancake_size = 17.4
sky_mode = 1

[node name="LampPost" parent="." instance=ExtResource("8_87jf0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.218, 0, -11.578)
script = ExtResource("7_ph10c")

[node name="MovingPlatform3" parent="." instance=ExtResource("8_t3ins")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.63511, 1.83672, 0)

[node name="Player" parent="." instance=ExtResource("8_ywuup")]
process_mode = 1

[node name="Skeleton3D" parent="Player/RollinDudeMk5/Armature" index="0"]
bones/0/position = Vector3(-0.000622358, 1.48214, -3.82842e-05)
bones/0/rotation = Quaternion(0, -0.0307138, 0, 0.999528)
bones/1/rotation = Quaternion(-0.018444, 0.00369099, 0.00269732, 0.99982)
bones/2/rotation = Quaternion(0.413248, 0.0100346, -0.0205053, 0.910332)
bones/3/rotation = Quaternion(-0.00197214, -0.00201382, -0.000158863, 0.999996)
bones/4/rotation = Quaternion(0.373345, 0.0160051, -0.00424741, 0.927545)
bones/5/position = Vector3(0.73923, 0.557093, -0.00505832)
bones/5/rotation = Quaternion(6.8362e-07, 3.91874e-07, -0.78487, 0.619661)
bones/7/rotation = Quaternion(0.0228535, 0.360134, -0.480051, 0.799582)
bones/8/rotation = Quaternion(0.187457, -5.10737e-05, 0.156146, 0.969783)
bones/9/rotation = Quaternion(0.0111189, -0.330093, -0.129121, 0.93501)
bones/10/position = Vector3(-0.0371419, 0.603581, 0.080791)
bones/10/rotation = Quaternion(0.0052579, 0.00293331, -0.194768, 0.980831)
bones/11/rotation = Quaternion(-2.34792e-08, 2.52941e-07, -0.106755, 0.994285)
bones/12/rotation = Quaternion(3.77075e-09, -7.53676e-08, -0.106756, 0.994285)
bones/13/rotation = Quaternion(0.330293, 0.395197, -0.33846, 0.787509)
bones/14/rotation = Quaternion(-0.147825, -0.0726881, 0.010471, 0.986283)
bones/15/rotation = Quaternion(-0.124312, 3.5556e-07, 4.92733e-07, 0.992243)
bones/16/position = Vector3(-0.0130191, 0.581761, 0.34752)
bones/16/rotation = Quaternion(0.00599665, 0.00376933, -0.149654, 0.988713)
bones/17/rotation = Quaternion(-0.000176017, -8.24265e-06, -0.0392213, 0.999231)
bones/18/rotation = Quaternion(0.000138612, 6.46298e-06, -0.0543674, 0.998521)
bones/19/position = Vector3(-0.00189322, 0.574295, -0.162281)
bones/19/rotation = Quaternion(0.00552003, 0.00247761, -0.194716, 0.980841)
bones/20/rotation = Quaternion(-0.00033092, -2.79204e-05, -0.0863977, 0.996261)
bones/21/rotation = Quaternion(0.000565913, 4.83872e-05, -0.125602, 0.992081)
bones/23/position = Vector3(-0.73923, 0.557093, -0.00505867)
bones/23/rotation = Quaternion(4.96385e-07, -5.39749e-07, 0.78487, 0.619661)
bones/25/rotation = Quaternion(-0.00344693, -0.498039, 0.476834, 0.724275)
bones/26/rotation = Quaternion(0.212297, 5.05962e-05, -0.176836, 0.961072)
bones/27/rotation = Quaternion(-0.0549999, 0.527205, 0.103022, 0.841675)
bones/28/position = Vector3(0.0371416, 0.603581, 0.080791)
bones/28/rotation = Quaternion(0.00525789, -0.00293332, 0.194768, 0.980831)
bones/29/rotation = Quaternion(-1.5123e-08, -2.41927e-07, 0.106755, 0.994285)
bones/30/rotation = Quaternion(1.27029e-08, 7.48378e-08, 0.106756, 0.994285)
bones/31/rotation = Quaternion(0.302351, -0.396981, 0.319735, 0.805456)
bones/32/rotation = Quaternion(-0.160269, 0.0683671, 0.026945, 0.984334)
bones/33/rotation = Quaternion(-0.159586, -3.69195e-07, -5.67677e-07, 0.987184)
bones/34/position = Vector3(0.0130193, 0.581761, 0.34752)
bones/34/rotation = Quaternion(0.00599665, -0.00376932, 0.149654, 0.988713)
bones/35/rotation = Quaternion(-0.000176013, 8.22646e-06, 0.0392213, 0.999231)
bones/36/rotation = Quaternion(0.000138613, -6.46026e-06, 0.0543674, 0.998521)
bones/37/position = Vector3(0.00189321, 0.574295, -0.162281)
bones/37/rotation = Quaternion(0.00552003, -0.0024776, 0.194716, 0.980841)
bones/38/rotation = Quaternion(-0.000330933, 2.79187e-05, 0.0863978, 0.996261)
bones/39/rotation = Quaternion(0.000565909, -4.83693e-05, 0.125602, 0.992081)
bones/41/position = Vector3(-0.0230223, 1.06723, -0.986614)
bones/41/rotation = Quaternion(0.996512, -0.0014463, -0.000183896, -0.0834362)
bones/41/scale = Vector3(1, 1.00187, 1)
bones/42/rotation = Quaternion(-0.0191202, -5.91879e-05, 0.000159995, 0.999817)
bones/42/scale = Vector3(1, 1.00125, 1)
bones/43/rotation = Quaternion(-0.00537373, -3.25921e-05, -0.00136977, 0.999985)
bones/43/scale = Vector3(1, 0.993319, 1)
bones/44/position = Vector3(-0.0226263, 1.19487, -0.477315)
bones/44/rotation = Quaternion(-0.701734, 0.000697356, 0.000930642, 0.712438)
bones/44/scale = Vector3(1, 1.00184, 1)
bones/45/position = Vector3(-0.937644, 0.992989, -0.473967)
bones/45/rotation = Quaternion(0.984838, -0.129978, -0.0223049, -0.112704)
bones/45/scale = Vector3(1, 1.00169, 1)
bones/46/rotation = Quaternion(-0.0554175, 0.0141464, -0.0647402, 0.996262)
bones/46/scale = Vector3(1, 1.00126, 1)
bones/47/rotation = Quaternion(-0.0143873, -0.00637441, -0.0314406, 0.999382)
bones/47/scale = Vector3(1, 0.997401, 1)
bones/48/position = Vector3(0.938392, 0.993442, -0.474575)
bones/48/rotation = Quaternion(0.984717, 0.128331, 0.0215673, -0.115754)
bones/48/scale = Vector3(0.999999, 1.00123, 1)
bones/49/rotation = Quaternion(-0.0551166, -0.0142353, 0.0649811, 0.996262)
bones/49/scale = Vector3(1, 1.00086, 1)
bones/50/rotation = Quaternion(-0.0159727, 0.00622347, 0.0297558, 0.99941)
bones/50/scale = Vector3(1, 0.998797, 0.999999)
bones/51/rotation = Quaternion(0.817364, 0.153733, 0.550156, 0.0749035)
bones/52/rotation = Quaternion(3.77725e-08, -3.49304e-09, 0.176746, 0.984257)
bones/53/rotation = Quaternion(-0.0582157, 0.0558922, -0.504731, 0.859496)
bones/54/rotation = Quaternion(0.789214, -0.108795, -0.604348, -0.00823984)
bones/55/rotation = Quaternion(2.48758e-08, -8.88294e-10, -0.142559, 0.989786)
bones/56/rotation = Quaternion(-0.0681745, 0.0255721, 0.548855, 0.83274)
bones/57/position = Vector3(0.00853425, 3.64216, 0.261181)
bones/58/position = Vector3(1.02314, 0.0600613, 0.443846)
bones/58/rotation = Quaternion(0.543101, 0.541739, 0.454199, 0.45306)
bones/59/rotation = Quaternion(-1.37902e-07, 8.41373e-08, -0.707994, 0.706218)
bones/60/rotation = Quaternion(6.06075e-08, 2.86765e-09, 0.867311, 0.497767)
bones/61/position = Vector3(2.5509, 2.17841, -1.09325)
bones/62/position = Vector3(1.87685, 1.26667, 0.0867536)
bones/62/rotation = Quaternion(0.0490814, -0.0733276, -0.990876, 0.101875)
bones/63/position = Vector3(1.38794, 1.3891, 1.53764)
bones/65/position = Vector3(-1.142, 0.0600613, 0.0910168)
bones/65/rotation = Quaternion(0.574499, -0.573058, -0.413772, 0.412734)
bones/66/rotation = Quaternion(-1.37902e-07, -8.41373e-08, 0.707994, 0.706218)
bones/67/rotation = Quaternion(-6.06075e-08, 2.86765e-09, 0.867311, -0.497767)
bones/68/position = Vector3(-2.67237, 2.16772, -1.21793)
bones/69/position = Vector3(-1.82161, 1.25865, -0.311477)
bones/69/rotation = Quaternion(-0.134888, -0.0393641, 0.983857, 0.110819)
bones/70/position = Vector3(-1.37829, 1.14721, 1.16179)

[node name="HandAttachment" parent="Player/RollinDudeMk5/Armature/Skeleton3D" index="5"]
transform = Transform3D(-0.938921, -0.207348, -0.274651, 0.22901, -0.972193, -0.0489331, -0.256868, -0.108842, 0.960298, -1.82084, 1.25817, -0.312692)

[node name="Clerk" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.49013, 0.763058, 4.73254)
script = ExtResource("9_80eq6")

[node name="StaticBody3D" type="StaticBody3D" parent="Clerk"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Clerk/StaticBody3D"]
mesh = SubResource("TorusMesh_cl3xm")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Clerk/StaticBody3D"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
shape = SubResource("CapsuleShape3D_jdkl7")

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target", "HUD")]
transform = Transform3D(1, 0, 0, 0, 0.928738, 0.370736, 0, -0.370736, 0.928738, 0, 3.59515, 6.50117)
current = true
script = ExtResource("8_7fw5a")
target = NodePath("../Player")
HUD = NodePath("../HUD")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_k2ft2")

[node name="Floor" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor"]
shape = ExtResource("12_knnwi")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Floor/CollisionShape3D"]
material_override = SubResource("StandardMaterial3D_t4q33")
material_overlay = SubResource("StandardMaterial3D_4jcw5")
cast_shadow = 0
gi_mode = 2
mesh = SubResource("PlaneMesh_q726u")
skeleton = NodePath("../..")

[node name="Drugz" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5.52858)
script = ExtResource("10_c8j53")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Drugz"]
shape = SubResource("SphereShape3D_gcr6y")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Drugz/CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.789129, 0)
mesh = SubResource("PrismMesh_j76bu")
surface_material_override/0 = SubResource("StandardMaterial3D_qc06o")

[node name="Rock" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.36144, 0.66037, 2.80535)

[node name="Rock2" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.08236, 0.711241, 2.08706)

[node name="Rock3" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.5128, 1.50521, -7.23256)

[node name="Node3D" parent="." instance=ExtResource("13_bvu8j")]

[node name="Rock4" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.2326, 1.38077, -0.700886)
mass = 0.27

[node name="Devtool" parent="." instance=ExtResource("13_3aiva")]

[node name="DeathWall" parent="." instance=ExtResource("14_hhq11")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -10, 0, 8.72595)

[node name="Pickaxe" parent="." instance=ExtResource("13_cokk8")]
transform = Transform3D(0.0166845, 0, 0.999861, 0, 1, 0, -0.999861, 0, 0.0166845, -11.8316, 0.10888, -1.10376)

[node name="MeshInstance3D" type="MeshInstance3D" parent="SignPost/CollisionShape3D"]
mesh = SubResource("CylinderMesh_2i0b2")

[node name="GlowStick" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.6201, 0.568651, -0.728118)
script = ExtResource("15_m6ir7")

[node name="Awareness0" type="Area3D" parent="GlowStick"]
script = ExtResource("16_p6gv0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="GlowStick/Awareness0"]
shape = SubResource("SphereShape3D_h53f8")

[node name="Awareness1" type="Area3D" parent="GlowStick"]
script = ExtResource("16_p6gv0")
zone = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="GlowStick/Awareness1"]
shape = SubResource("CapsuleShape3D_fwpd7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="GlowStick/Awareness1/CollisionShape3D"]
mesh = SubResource("CapsuleMesh_sin67")
surface_material_override/0 = SubResource("StandardMaterial3D_vxpf4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="GlowStick"]
shape = SubResource("CapsuleShape3D_s4jn6")

[node name="WandererGuy" type="CharacterBody3D" parent="." node_paths=PackedStringArray("nav")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.4937, 0.6, 17.685)
script = ExtResource("19_jnosp")
m = ExtResource("20_menxn")
nav = NodePath("NavAgent")

[node name="CollisionShape3D" type="CollisionShape3D" parent="WandererGuy"]
shape = SubResource("BoxShape3D_j3cbx")

[node name="MeshInstance3D" type="MeshInstance3D" parent="WandererGuy"]
mesh = SubResource("BoxMesh_ok0df")

[node name="NavAgent" type="NavigationAgent3D" parent="WandererGuy"]

[node name="DeathWall" parent="." instance=ExtResource("14_hhq11")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -10, 0, 8.72595)

[node name="PauseMenu" parent="." instance=ExtResource("22_744mc")]
process_mode = 3
