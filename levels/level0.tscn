[gd_scene load_steps=47 format=3 uid="uid://dwjmpt5fbaak2"]

[ext_resource type="Script" path="res://levels/Level0.cs" id="1_iiogu"]
[ext_resource type="PackedScene" uid="uid://bantfsh2sxy0v" path="res://ui/hud.tscn" id="2_fsd0o"]
[ext_resource type="Script" path="res://brain/Camera.cs" id="8_7fw5a"]
[ext_resource type="PackedScene" uid="uid://mpnfn272l8i6" path="res://gameobjects/moving_platform_3.tscn" id="8_t3ins"]
[ext_resource type="PackedScene" uid="uid://cirg5lcesnafx" path="res://player/player.tscn" id="8_ywuup"]
[ext_resource type="Script" path="res://gameobjects/Talker.cs" id="9_80eq6"]
[ext_resource type="Script" path="res://gameobjects/Drugz.cs" id="10_c8j53"]
[ext_resource type="PackedScene" uid="uid://b7suifadqfxfl" path="res://gameobjects/rock.tscn" id="11_xa5x2"]
[ext_resource type="Shape3D" uid="uid://fq5v2apmp1qq" path="res://assets/shape_floor.tres" id="12_knnwi"]
[ext_resource type="PackedScene" uid="uid://c5j50bf0y8cpb" path="res://ui/devtool.tscn" id="13_3aiva"]
[ext_resource type="PackedScene" uid="uid://buydkmv2qkxpr" path="res://gameobjects/death_wall.tscn" id="14_hhq11"]
[ext_resource type="Script" path="res://gameobjects/Glower.cs" id="15_m6ir7"]
[ext_resource type="Script" path="res://brain/CollisionZone.cs" id="16_p6gv0"]
[ext_resource type="Script" path="res://character/NPCNode.cs" id="19_jnosp"]
[ext_resource type="PackedScene" uid="uid://bae368jfutt53" path="res://gameobjects/pickaxe_pickup.tscn" id="19_qb3p1"]
[ext_resource type="Script" path="res://gameobjects/Pickup.cs" id="20_1d5f7"]
[ext_resource type="Resource" uid="uid://bq1tpsxc5ol1m" path="res://characters/npc0.tres" id="20_menxn"]
[ext_resource type="PackedScene" uid="uid://n2ciai3ucq8v" path="res://gameobjects/lamp_post.tscn" id="20_vj7e2"]
[ext_resource type="Script" path="res://inventory/InventoryItemProperties.cs" id="21_178ia"]
[ext_resource type="PackedScene" uid="uid://2185bfgrt6q2" path="res://gameobjects/pickaxe_equip.tscn" id="21_rt7q5"]
[ext_resource type="PackedScene" uid="uid://c4em7nm7axjkt" path="res://ui/pause_menu.tscn" id="22_744mc"]
[ext_resource type="Script" path="res://inventory/InventoryItem.cs" id="22_qtqld"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_lwqku"]
sky_top_color = Color(0.541176, 0.423529, 0.290196, 1)
sky_horizon_color = Color(0.676471, 0.65, 0.614706, 1)
sky_energy_multiplier = 1.5
ground_bottom_color = Color(0.164706, 0.176471, 0.168627, 1)
ground_horizon_color = Color(0.676471, 0.65, 0.614706, 1)

[sub_resource type="Sky" id="Sky_3r2si"]
sky_material = SubResource("ProceduralSkyMaterial_lwqku")

[sub_resource type="Environment" id="Environment_mck8e"]
background_mode = 2
sky = SubResource("Sky_3r2si")
ambient_light_source = 1
tonemap_mode = 2

[sub_resource type="TorusMesh" id="TorusMesh_cl3xm"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_jdkl7"]

[sub_resource type="NavigationMesh" id="NavigationMesh_k2ft2"]
vertices = PackedVector3Array(-24.5, 0.5, -24.5, -24.5, 0.5, 24.5, 24.5, 0.5, 24.5, 24.5, 0.5, -24.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t4q33"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4jcw5"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_72h3h"]
specular_mode = 1
metallic_specular = 0.34
roughness_texture_channel = 1
refraction_texture_channel = 4

[sub_resource type="PlaneMesh" id="PlaneMesh_q726u"]
material = SubResource("StandardMaterial3D_72h3h")
size = Vector2(50, 50)

[sub_resource type="SphereShape3D" id="SphereShape3D_gcr6y"]

[sub_resource type="PrismMesh" id="PrismMesh_j76bu"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qc06o"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_gbdax"]

[sub_resource type="CylinderMesh" id="CylinderMesh_2i0b2"]

[sub_resource type="SphereShape3D" id="SphereShape3D_h53f8"]
margin = 0.0
radius = 10.862

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_fwpd7"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_sin67"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vxpf4"]
albedo_color = Color(1.58831e-06, 0.616792, 0.524772, 1)
metallic = 0.11
metallic_specular = 0.16
emission_enabled = true
emission = Color(0.908911, 0.866702, 0.900103, 1)
emission_energy_multiplier = 0.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_s4jn6"]

[sub_resource type="BoxShape3D" id="BoxShape3D_j3cbx"]

[sub_resource type="BoxMesh" id="BoxMesh_ok0df"]

[sub_resource type="Resource" id="Resource_wym1g"]
script = ExtResource("21_178ia")
name = "Pickaxe"
itemType = 0
equippable = true
packedSceneWorldItem = ExtResource("19_qb3p1")
packedSceneEquipable = ExtResource("21_rt7q5")

[sub_resource type="Resource" id="Resource_ctln5"]
resource_name = "Pickaxe"
script = ExtResource("22_qtqld")
itemProperties = SubResource("Resource_wym1g")

[node name="Wod" type="Node3D" node_paths=PackedStringArray("sunlight", "navRegion")]
process_mode = 1
script = ExtResource("1_iiogu")
levelSceneFilenames = {
"l2": "level2"
}
sunlight = NodePath("DirectionalLight3D")
navRegion = NodePath("NavigationRegion3D")

[node name="HUD" parent="." instance=ExtResource("2_fsd0o")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_mck8e")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707602, 0.287481, -0.645488, 0.244313, 0.757621, 0.605245, 0.663032, -0.585974, 0.465858, -3.27003, 36.1152, 10.5027)
light_color = Color(0.796172, 0.801828, 0.649819, 1)
light_energy = 0.92
light_indirect_energy = 0.16
light_angular_distance = 4.05
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 1.0
shadow_opacity = 0.85
shadow_blur = 0.5
directional_shadow_fade_start = 0.74
directional_shadow_pancake_size = 17.4
sky_mode = 1

[node name="LampPost" parent="." instance=ExtResource("20_vj7e2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -12)

[node name="MovingPlatform3" parent="." instance=ExtResource("8_t3ins")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.63511, 1.83672, 0)

[node name="Player" parent="." instance=ExtResource("8_ywuup")]
process_mode = 1

[node name="Clerk" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.49013, 0.763058, 4.73254)
script = ExtResource("9_80eq6")

[node name="StaticBody3D" type="StaticBody3D" parent="Clerk"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Clerk/StaticBody3D"]
mesh = SubResource("TorusMesh_cl3xm")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Clerk/StaticBody3D"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
shape = SubResource("CapsuleShape3D_jdkl7")

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target", "HUD")]
transform = Transform3D(1, 0, 0, 0, 0.928738, 0.370736, 0, -0.370736, 0.928738, 0, 3.59515, 6.50117)
current = true
script = ExtResource("8_7fw5a")
target = NodePath("../Player")
HUD = NodePath("../HUD")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_k2ft2")

[node name="Floor" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor"]
shape = ExtResource("12_knnwi")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Floor/CollisionShape3D"]
material_override = SubResource("StandardMaterial3D_t4q33")
material_overlay = SubResource("StandardMaterial3D_4jcw5")
cast_shadow = 0
gi_mode = 2
mesh = SubResource("PlaneMesh_q726u")
skeleton = NodePath("../..")

[node name="Drugz" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -5.52858)
script = ExtResource("10_c8j53")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Drugz"]
shape = SubResource("SphereShape3D_gcr6y")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Drugz/CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.789129, 0)
mesh = SubResource("PrismMesh_j76bu")
surface_material_override/0 = SubResource("StandardMaterial3D_qc06o")

[node name="Rock" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.36144, 0.66037, 2.80535)

[node name="Rock2" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.08236, 0.711241, 2.08706)

[node name="Rock3" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.5128, 0, -7.23256)

[node name="Rock4" parent="." instance=ExtResource("11_xa5x2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.2326, 1.38077, -0.700886)
mass = 0.27

[node name="Devtool" parent="." instance=ExtResource("13_3aiva")]

[node name="SignPost" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.72674, 2, 10.6561)

[node name="CollisionShape3D" type="CollisionShape3D" parent="SignPost"]
shape = SubResource("CylinderShape3D_gbdax")

[node name="MeshInstance3D" type="MeshInstance3D" parent="SignPost/CollisionShape3D"]
mesh = SubResource("CylinderMesh_2i0b2")

[node name="GlowStick" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.6201, 0.568651, -0.728118)
script = ExtResource("15_m6ir7")

[node name="Awareness0" type="Area3D" parent="GlowStick"]
script = ExtResource("16_p6gv0")

[node name="CollisionShape3D" type="CollisionShape3D" parent="GlowStick/Awareness0"]
shape = SubResource("SphereShape3D_h53f8")

[node name="Awareness1" type="Area3D" parent="GlowStick"]
script = ExtResource("16_p6gv0")
zone = 1

[node name="CollisionShape3D" type="CollisionShape3D" parent="GlowStick/Awareness1"]
shape = SubResource("CapsuleShape3D_fwpd7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="GlowStick/Awareness1/CollisionShape3D"]
mesh = SubResource("CapsuleMesh_sin67")
surface_material_override/0 = SubResource("StandardMaterial3D_vxpf4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="GlowStick"]
shape = SubResource("CapsuleShape3D_s4jn6")

[node name="WandererGuy" type="CharacterBody3D" parent="." node_paths=PackedStringArray("nav")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.4937, 0.6, 17.685)
script = ExtResource("19_jnosp")
m = ExtResource("20_menxn")
nav = NodePath("NavAgent")

[node name="CollisionShape3D" type="CollisionShape3D" parent="WandererGuy"]
shape = SubResource("BoxShape3D_j3cbx")

[node name="MeshInstance3D" type="MeshInstance3D" parent="WandererGuy"]
mesh = SubResource("BoxMesh_ok0df")

[node name="NavAgent" type="NavigationAgent3D" parent="WandererGuy"]

[node name="DeathWall" parent="." instance=ExtResource("14_hhq11")]
transform = Transform3D(-0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707107, -10, 0, 8.72595)

[node name="PauseMenu" parent="." instance=ExtResource("22_744mc")]
process_mode = 3

[node name="PickaxePickup" parent="." instance=ExtResource("19_qb3p1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.49468, 0, 8.27726)
script = ExtResource("20_1d5f7")
invItem = SubResource("Resource_ctln5")
info = "Pickaxe"
