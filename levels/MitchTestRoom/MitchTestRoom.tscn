[gd_scene load_steps=23 format=3 uid="uid://btsjflgbth3om"]

[ext_resource type="Script" path="res://levels/Level.cs" id="1_4h45c"]
[ext_resource type="PackedScene" uid="uid://bantfsh2sxy0v" path="res://ui/hud.tscn" id="2_f87x4"]
[ext_resource type="PackedScene" uid="uid://c5j50bf0y8cpb" path="res://ui/devtool.tscn" id="2_ss0d1"]
[ext_resource type="Script" path="res://brain/Camera.cs" id="3_jf4ql"]
[ext_resource type="Shape3D" uid="uid://fq5v2apmp1qq" path="res://assets/shape_floor.tres" id="5_k3kh2"]
[ext_resource type="PackedScene" uid="uid://cirg5lcesnafx" path="res://player/player.tscn" id="6_4fov1"]
[ext_resource type="PackedScene" uid="uid://bibpl4warnq50" path="res://gameobjects/DemoBuildings/player_house_demo.tscn" id="7_htvo1"]
[ext_resource type="PackedScene" uid="uid://bx4e0em64nnhi" path="res://assets/Models/Wood Props/Bucket 1/Bucket.gltf" id="8_iir1n"]
[ext_resource type="Script" path="res://gameobjects/Talker.cs" id="9_j6iwx"]
[ext_resource type="Script" path="res://gameobjects/Door.cs" id="10_s5egv"]
[ext_resource type="PackedScene" uid="uid://dwjmpt5fbaak2" path="res://levels/level0.tscn" id="11_8ilxf"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_mu5b3"]
sky_top_color = Color(0.541176, 0.423529, 0.290196, 1)
sky_horizon_color = Color(0.676471, 0.65, 0.614706, 1)
sky_energy_multiplier = 1.5
ground_bottom_color = Color(0.164706, 0.176471, 0.168627, 1)
ground_horizon_color = Color(0.676471, 0.65, 0.614706, 1)

[sub_resource type="Sky" id="Sky_esjiq"]
sky_material = SubResource("ProceduralSkyMaterial_mu5b3")

[sub_resource type="Environment" id="Environment_jq7mq"]
background_mode = 2
sky = SubResource("Sky_esjiq")
ambient_light_source = 1
tonemap_mode = 2

[sub_resource type="NavigationMesh" id="NavigationMesh_f8jy0"]
vertices = PackedVector3Array(-24.5, 0.5, -24.5, -24.5, 0.5, 24.5, 24.5, 0.5, 24.5, 24.5, 0.5, -24.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6hyav"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ustmj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mcwpa"]
specular_mode = 1
metallic_specular = 0.34
roughness_texture_channel = 1
refraction_texture_channel = 4

[sub_resource type="PlaneMesh" id="PlaneMesh_81ba2"]
material = SubResource("StandardMaterial3D_mcwpa")
size = Vector2(50, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_krxn8"]
size = Vector3(5.28854, 5.02454, 7.35275)

[sub_resource type="BoxShape3D" id="BoxShape3D_dh6ug"]
size = Vector3(0.537476, 1, 0.523804)

[sub_resource type="BoxShape3D" id="BoxShape3D_tr0bb"]

[node name="Wod" type="Node3D" node_paths=PackedStringArray("sunlight", "navRegion")]
script = ExtResource("1_4h45c")
sunlight = NodePath("DirectionalLight3D")
navRegion = NodePath("NavigationRegion3D")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_jq7mq")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.707602, 0.287481, -0.645488, 0.244313, 0.757621, 0.605245, 0.663032, -0.585974, 0.465858, -3.27003, 36.1152, 10.5027)
light_color = Color(0.796172, 0.801828, 0.649819, 1)
light_energy = 0.92
light_indirect_energy = 0.16
light_angular_distance = 4.05
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 1.0
shadow_opacity = 0.85
shadow_blur = 0.5
directional_shadow_fade_start = 0.74
directional_shadow_pancake_size = 17.4
sky_mode = 1

[node name="Devtool" parent="." instance=ExtResource("2_ss0d1")]

[node name="HUD" parent="." instance=ExtResource("2_f87x4")]

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("target", "HUD")]
script = ExtResource("3_jf4ql")
target = NodePath("../Player")
HUD = NodePath("../HUD")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_f8jy0")

[node name="Floor" type="StaticBody3D" parent="NavigationRegion3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor"]
shape = ExtResource("5_k3kh2")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/Floor/CollisionShape3D" groups=["mesh"]]
material_override = SubResource("StandardMaterial3D_6hyav")
material_overlay = SubResource("StandardMaterial3D_ustmj")
cast_shadow = 0
gi_mode = 2
mesh = SubResource("PlaneMesh_81ba2")
skeleton = NodePath("../..")

[node name="Player" parent="." instance=ExtResource("6_4fov1")]

[node name="PlayerHouseDemo" parent="." instance=ExtResource("7_htvo1")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 9.23758, 0.1, -8.11195)

[node name="StaticBody3D" type="StaticBody3D" parent="PlayerHouseDemo"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="PlayerHouseDemo/StaticBody3D"]
transform = Transform3D(-0.0070343, 0.0440295, 0.999005, -0.0542113, 0.997544, -0.0443468, -0.998505, -0.0544694, -0.00463018, 0.44762, 1.92241, -0.42363)
shape = SubResource("BoxShape3D_krxn8")

[node name="Bucket2" parent="." instance=ExtResource("8_iir1n")]
transform = Transform3D(-0.696904, 0, 2.60088, 0, 1, 0, -2.60088, 0, -0.696904, 10.364, 0.402223, -2.14197)
script = ExtResource("9_j6iwx")
dialogueFilename = "res://assets/dialogue/MitchTestBowlDialogue.json"

[node name="StaticBody3D" type="StaticBody3D" parent="Bucket2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Bucket2/StaticBody3D"]
transform = Transform3D(1, 0, 4.47035e-08, 0, 1, 0, -4.47035e-08, 0, 1, -0.00909394, 0, -0.0188596)
shape = SubResource("BoxShape3D_dh6ug")

[node name="Door" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.60311, 0.548661, -7.17651)
script = ExtResource("10_s5egv")
destination = ExtResource("11_8ilxf")

[node name="StaticBody3D" type="StaticBody3D" parent="Door"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Door/StaticBody3D"]
shape = SubResource("BoxShape3D_tr0bb")
