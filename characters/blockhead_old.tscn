[gd_scene load_steps=7 format=3 uid="uid://3xtvy6mcdr2m"]

[ext_resource type="PackedScene" uid="uid://dfcv6fwygm0j6" path="res://assets/NPCS/Blockhead/BlockheadTest1.glb" id="1_j14if"]
[ext_resource type="Script" path="res://components/Patroller.cs" id="2_ywa06"]
[ext_resource type="Script" path="res://components/StateManager.cs" id="3_g3p5o"]
[ext_resource type="Script" path="res://components/AnimationController.cs" id="4_00rf5"]
[ext_resource type="Script" path="res://brain/MotionModule.cs" id="5_8jcdr"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_58h4l"]
radius = 0.956167
height = 3.74566

[node name="Blockhead" node_paths=PackedStringArray("physBody", "stateManager", "animController", "mot", "nav") instance=ExtResource("1_j14if")]
script = ExtResource("2_ywa06")
radius = 0.2
physBody = NodePath("CharacterBody3D")
stateManager = NodePath("StateManager")
animController = NodePath("AnimationController")
mot = NodePath("MotionModule")
nav = NodePath("NavigationAgent3D")

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(-0.00264211, 0.0086112, -0.108149)
bones/0/rotation = Quaternion(0.102204, -0.000489704, -0.00145285, 0.994762)
bones/0/scale = Vector3(1, 1, 1)
bones/1/rotation = Quaternion(-0.18679, 0.000326007, 0.00149334, 0.982399)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(-0.0261505, -2.20211e-11, -6.39782e-09, 0.999658)
bones/2/scale = Vector3(1, 1, 1)
bones/3/rotation = Quaternion(0.124044, -1.18289e-07, 1.47872e-08, 0.992277)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.0322018, 1.19148e-07, 3.83853e-09, 0.999481)
bones/5/rotation = Quaternion(0.0520318, -1.19043e-07, 6.20291e-09, 0.998645)
bones/6/rotation = Quaternion(0.0995255, 0.0838769, -0.803476, 0.580935)
bones/7/rotation = Quaternion(0.041371, 0.137069, -0.443615, 0.884707)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(0.160999, 0.000724412, -0.0516559, 0.985602)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(-0.0256597, -0.151219, -0.0401914, 0.987349)
bones/9/scale = Vector3(1, 1, 1)
bones/10/position = Vector3(0.0853145, 0.9578, 0.399473)
bones/10/rotation = Quaternion(0.0171214, -0.00140662, -0.120894, 0.992517)
bones/11/rotation = Quaternion(0.0172555, 0.00130905, -0.071389, 0.997298)
bones/12/rotation = Quaternion(-0.00951437, -0.000721518, -0.0779775, 0.996909)
bones/13/position = Vector3(0.042542, 0.987423, -0.0198394)
bones/13/rotation = Quaternion(-0.0210812, -0.00186837, -0.135077, 0.990609)
bones/14/rotation = Quaternion(0.0102774, 0.00088274, -0.0816222, 0.99661)
bones/15/rotation = Quaternion(-0.00101731, -5.7454e-05, -0.0821286, 0.996621)
bones/16/position = Vector3(0.0764391, 0.895929, -0.461085)
bones/16/rotation = Quaternion(-0.0649014, -0.000286851, -0.136556, 0.988504)
bones/17/rotation = Quaternion(0.00818997, 0.000859089, -0.0937375, 0.995563)
bones/18/rotation = Quaternion(-0.00574256, -0.00057943, -0.0995128, 0.99502)
bones/19/rotation = Quaternion(0.270346, -0.0381075, -0.337127, 0.901003)
bones/20/rotation = Quaternion(-0.218043, -0.0599391, 0.0911992, 0.969818)
bones/21/rotation = Quaternion(0.0160869, -0.00223376, 0.158403, 0.987241)
bones/22/rotation = Quaternion(0.0995253, -0.083877, 0.803476, 0.580935)
bones/23/rotation = Quaternion(0.0414918, -0.137097, 0.443586, 0.884711)
bones/23/scale = Vector3(1, 0.999999, 1)
bones/24/rotation = Quaternion(0.160996, -0.000724408, 0.0516551, 0.985602)
bones/24/scale = Vector3(1, 1, 1)
bones/25/rotation = Quaternion(-0.025727, 0.151243, 0.0402019, 0.987344)
bones/25/scale = Vector3(1, 1, 1)
bones/26/position = Vector3(-0.0853144, 0.9578, 0.399473)
bones/26/rotation = Quaternion(0.0171214, 0.00140663, 0.120894, 0.992517)
bones/27/rotation = Quaternion(0.0172555, -0.00130905, 0.071389, 0.997298)
bones/28/rotation = Quaternion(-0.00951438, 0.00072151, 0.0779774, 0.996909)
bones/29/position = Vector3(-0.042542, 0.987423, -0.0198394)
bones/29/rotation = Quaternion(-0.0210812, 0.00186837, 0.135077, 0.990609)
bones/30/rotation = Quaternion(0.0102774, -0.000882732, 0.0816222, 0.99661)
bones/31/rotation = Quaternion(-0.00101731, 5.74491e-05, 0.0821286, 0.996621)
bones/32/position = Vector3(-0.076439, 0.895929, -0.461085)
bones/32/rotation = Quaternion(-0.0649014, 0.000286858, 0.136556, 0.988504)
bones/33/rotation = Quaternion(0.00819002, -0.000859104, 0.0937375, 0.995563)
bones/34/rotation = Quaternion(-0.00574254, 0.000579437, 0.0995129, 0.99502)
bones/35/rotation = Quaternion(0.270346, 0.0381075, 0.337128, 0.901003)
bones/36/rotation = Quaternion(-0.218043, 0.0599391, -0.0911992, 0.969818)
bones/36/scale = Vector3(1, 1, 1)
bones/37/rotation = Quaternion(0.016087, 0.00223379, -0.158404, 0.987241)
bones/37/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(0.70334, 0.0728909, -0.70334, -0.072891)
bones/42/rotation = Quaternion(0.702513, 0.080475, -0.702512, -0.0804753)
bones/43/position = Vector3(0.00794153, -0.00482273, 0.0013289)
bones/43/rotation = Quaternion(0.465431, 0.687331, 0.341537, -0.440798)
bones/44/rotation = Quaternion(-0.730965, -0.14671, 0.0720616, 0.662551)
bones/44/scale = Vector3(1, 0.999999, 1)
bones/45/rotation = Quaternion(-0.0568153, 0.00539826, 0.333227, 0.941118)
bones/45/scale = Vector3(0.999999, 1, 1)
bones/46/rotation = Quaternion(-0.00235316, -0.0543888, -0.530969, 0.845641)
bones/46/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(0.00387419, -7.41392e-08, -0.390611, 0.920548)
bones/48/position = Vector3(-0.00262687, -0.00485247, 0.00134156)
bones/48/rotation = Quaternion(-0.466953, 0.686547, 0.343333, 0.439011)
bones/49/rotation = Quaternion(-0.73098, 0.146699, -0.0719733, 0.662546)
bones/49/scale = Vector3(1, 0.999999, 1)
bones/50/rotation = Quaternion(-0.0568181, -0.0053982, -0.333244, 0.941112)
bones/50/scale = Vector3(1, 1, 1)
bones/51/rotation = Quaternion(-0.00234151, 0.0543907, 0.530954, 0.84565)
bones/51/scale = Vector3(1, 1, 1)
bones/52/rotation = Quaternion(0.00387424, 5.30144e-08, 0.390611, 0.920547)
bones/53/position = Vector3(1.13262, -0.712945, 2.48581)
bones/54/position = Vector3(2.34921, 1.95331, -1.9078)
bones/54/rotation = Quaternion(0.267493, -0.654559, 0.654559, -0.267493)
bones/55/position = Vector3(0, -2.436, 0)
bones/56/position = Vector3(1.98259, 0.693479, -0.0590344)
bones/56/rotation = Quaternion(-0.0413026, 0.0700369, 0.996145, -0.0329202)
bones/57/position = Vector3(0.876589, -1.5943, -0.0328722)
bones/57/rotation = Quaternion(0.731215, 0.297793, 0.570016, 0.227432)
bones/58/position = Vector3(-1.13262, -0.712945, 2.48581)
bones/58/rotation = Quaternion(-0.471936, 0.526571, 0.526571, -0.471936)
bones/59/position = Vector3(-2.34921, 1.95331, -1.9078)
bones/60/position = Vector3(-1.98259, 0.693479, -0.0590344)
bones/60/rotation = Quaternion(0.0413026, 0.0700369, 0.996145, 0.0329202)
bones/61/position = Vector3(-0.876589, -1.5943, -0.0328722)
bones/61/rotation = Quaternion(-0.731215, 0.297793, 0.570016, -0.227432)

[node name="StateManager" type="Node3D" parent="." index="2" node_paths=PackedStringArray("subject")]
script = ExtResource("3_g3p5o")
states = Array[int]([0, 1, 2])
subject = NodePath("..")

[node name="AnimationController" type="Node" parent="." index="3" node_paths=PackedStringArray("animPlayer")]
script = ExtResource("4_00rf5")
mapStateStringAnim = {
"ALERT": "WalkTest1",
"IDLE": "Idletest",
"TALKING": "Chat1"
}
animPlayer = NodePath("../AnimationPlayer")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="." index="4"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="." index="5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.05137, 0)
shape = SubResource("CapsuleShape3D_58h4l")

[node name="MotionModule" type="Node3D" parent="." index="6"]
script = ExtResource("5_8jcdr")
jolt = 0.0
max_accel = 20.0
max_speed = 20.0
