[gd_scene load_steps=6 format=3 uid="uid://3xtvy6mcdr2m"]

[ext_resource type="PackedScene" uid="uid://dfcv6fwygm0j6" path="res://assets/NPCS/Blockhead/BlockheadTest1.glb" id="1_j14if"]
[ext_resource type="Script" path="res://components/Patroller.cs" id="2_ywa06"]
[ext_resource type="Script" path="res://components/StateManager.cs" id="3_g3p5o"]
[ext_resource type="Script" path="res://components/AnimationController.cs" id="4_00rf5"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_58h4l"]
radius = 0.956167
height = 3.74566

[node name="Blockhead" node_paths=PackedStringArray("nav", "physBody", "stateManager", "animController") instance=ExtResource("1_j14if")]
script = ExtResource("2_ywa06")
nav = NodePath("NavigationAgent3D")
physBody = NodePath("CharacterBody3D")
stateManager = NodePath("StateManager")
animController = NodePath("AnimationController")

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(-0.00264211, 0.0086112, -0.108149)
bones/0/rotation = Quaternion(0.134357, -0.000404734, -0.00147394, 0.990932)
bones/0/scale = Vector3(1, 1, 1)
bones/1/rotation = Quaternion(-0.18679, 0.000326008, 0.00149334, 0.982399)
bones/1/scale = Vector3(1, 1, 1)
bones/2/rotation = Quaternion(-0.081626, 1.42581e-11, -1.96352e-08, 0.996663)
bones/2/scale = Vector3(1, 1, 1)
bones/3/rotation = Quaternion(0.124044, -1.18289e-07, 1.47872e-08, 0.992277)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(0.0322018, 1.19148e-07, 3.83876e-09, 0.999481)
bones/5/rotation = Quaternion(0.0575944, -0.0024781, -0.00672492, 0.998314)
bones/6/rotation = Quaternion(0.0999079, 0.0831271, -0.788343, 0.601351)
bones/7/rotation = Quaternion(-0.102069, 0.0267769, -0.263494, 0.958872)
bones/7/scale = Vector3(1, 1, 1)
bones/8/rotation = Quaternion(0.133409, 0.00072776, -0.0428038, 0.990136)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(-0.0617147, -0.0168759, -0.0378609, 0.997233)
bones/9/scale = Vector3(1, 1, 1)
bones/10/position = Vector3(0.0836771, 0.963137, 0.399368)
bones/10/rotation = Quaternion(0.0106659, 0.00216518, -0.0454352, 0.998908)
bones/11/rotation = Quaternion(0.0173051, 4.55741e-08, 0.00425389, 0.999841)
bones/12/rotation = Quaternion(-0.0095417, 2.43329e-07, -0.00234524, 0.999952)
bones/13/position = Vector3(0.0375033, 0.984456, -0.0202536)
bones/13/rotation = Quaternion(-0.0284264, -0.000191239, -0.0496903, 0.99836)
bones/14/rotation = Quaternion(0.0103153, -9.92753e-07, 0.00405882, 0.999939)
bones/15/rotation = Quaternion(-0.0010185, 2.99145e-05, 0.00355518, 0.999993)
bones/16/position = Vector3(0.0831144, 0.893558, -0.460566)
bones/16/rotation = Quaternion(-0.0736836, -0.00140017, -0.0361236, 0.996626)
bones/17/rotation = Quaternion(0.00823484, 3.36612e-05, 0.00654759, 0.999945)
bones/18/rotation = Quaternion(-0.00577172, -7.7721e-07, 0.000746971, 0.999983)
bones/19/rotation = Quaternion(0.331396, -0.0728525, -0.449663, 0.82624)
bones/20/rotation = Quaternion(-0.0189545, 2.00538e-05, -0.0235787, 0.999542)
bones/21/rotation = Quaternion(0.0162399, -0.000216851, 0.0344633, 0.999274)
bones/22/rotation = Quaternion(0.0999077, -0.0831273, 0.788343, 0.601351)
bones/23/rotation = Quaternion(-0.102068, -0.0267769, 0.263494, 0.958872)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(0.133408, -0.000727752, 0.0428037, 0.990136)
bones/24/scale = Vector3(1, 1, 1)
bones/25/rotation = Quaternion(-0.0617146, 0.0168759, 0.0378611, 0.997233)
bones/25/scale = Vector3(1, 1, 1)
bones/26/position = Vector3(-0.0836777, 0.963138, 0.399368)
bones/26/rotation = Quaternion(0.0106659, -0.00216517, 0.0454352, 0.998908)
bones/27/rotation = Quaternion(0.0173051, -4.68465e-08, -0.00425377, 0.999841)
bones/28/rotation = Quaternion(-0.0095417, -2.40336e-07, 0.00234527, 0.999952)
bones/29/position = Vector3(-0.0375033, 0.984456, -0.0202536)
bones/29/rotation = Quaternion(-0.0284264, 0.000191239, 0.0496903, 0.99836)
bones/30/rotation = Quaternion(0.0103153, 9.97393e-07, -0.00405879, 0.999939)
bones/31/rotation = Quaternion(-0.00101849, -2.99143e-05, -0.00355515, 0.999993)
bones/32/position = Vector3(-0.0831144, 0.893558, -0.460566)
bones/32/rotation = Quaternion(-0.0736837, 0.00140018, 0.0361236, 0.996626)
bones/33/rotation = Quaternion(0.00823489, -3.36652e-05, -0.00654762, 0.999945)
bones/34/rotation = Quaternion(-0.0057717, 7.87692e-07, -0.000746896, 0.999983)
bones/35/rotation = Quaternion(0.331396, 0.0728525, 0.449663, 0.82624)
bones/36/rotation = Quaternion(-0.0189546, -2.0058e-05, 0.0235787, 0.999542)
bones/36/scale = Vector3(1, 1, 1)
bones/37/rotation = Quaternion(0.0162398, 0.000216878, -0.0344633, 0.999274)
bones/37/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(0.70334, 0.0728909, -0.70334, -0.072891)
bones/40/rotation = Quaternion(0.704041, 0.0657759, -0.704041, -0.0657761)
bones/42/rotation = Quaternion(0.702513, 0.080475, -0.702512, -0.0804753)
bones/43/position = Vector3(0.00794153, -0.00482274, 0.0013289)
bones/43/rotation = Quaternion(0.465431, 0.687331, 0.341537, -0.440798)
bones/44/rotation = Quaternion(-0.739953, -0.141614, 0.0105698, 0.657497)
bones/44/scale = Vector3(1, 1, 1)
bones/45/rotation = Quaternion(-0.0583119, 0.00537965, 0.342005, 0.937872)
bones/45/scale = Vector3(1, 1, 1)
bones/46/rotation = Quaternion(-0.0163563, 0.01681, -0.544849, 0.838206)
bones/46/scale = Vector3(1, 1, 1)
bones/47/rotation = Quaternion(0.0038742, -6.82154e-08, -0.390611, 0.920548)
bones/48/position = Vector3(-0.00262687, -0.00485248, 0.00134157)
bones/49/rotation = Quaternion(-0.739954, 0.141614, -0.01057, 0.657497)
bones/49/scale = Vector3(1, 1, 1)
bones/50/rotation = Quaternion(-0.0583118, -0.00537963, -0.342004, 0.937872)
bones/50/scale = Vector3(1, 1, 1)
bones/51/rotation = Quaternion(-0.0163563, -0.0168099, 0.544849, 0.838206)
bones/51/scale = Vector3(1, 1, 1)
bones/52/rotation = Quaternion(0.00387424, 5.31015e-08, 0.390611, 0.920547)
bones/53/position = Vector3(0.849196, -0.739622, 2.53734)
bones/54/position = Vector3(2.15301, 1.89807, -1.93775)
bones/54/rotation = Quaternion(0.267493, -0.654559, 0.654559, -0.267493)
bones/55/position = Vector3(0, -2.436, 0)
bones/56/position = Vector3(2.77795, 1.14142, -0.148592)
bones/56/rotation = Quaternion(0.00451803, -0.00864972, 0.953377, -0.301624)
bones/57/position = Vector3(0.876589, -1.5943, -0.0328722)
bones/57/rotation = Quaternion(0.65233, 0.266269, 0.658832, 0.263641)
bones/58/position = Vector3(-0.849196, -0.739622, 2.53734)
bones/58/rotation = Quaternion(-0.471936, 0.526571, 0.526571, -0.471936)
bones/59/position = Vector3(-2.15301, 1.89807, -1.93775)
bones/60/position = Vector3(-2.77795, 1.14142, -0.148592)
bones/60/rotation = Quaternion(-0.00451803, -0.00864972, 0.953377, 0.301624)
bones/61/position = Vector3(-0.876589, -1.5943, -0.0328722)
bones/61/rotation = Quaternion(-0.65233, 0.266269, 0.658832, -0.263641)

[node name="StateManager" type="Node3D" parent="." index="2" node_paths=PackedStringArray("subject")]
script = ExtResource("3_g3p5o")
states = Array[int]([0, 1, 2])
subject = NodePath("..")

[node name="AnimationController" type="Node" parent="." index="3" node_paths=PackedStringArray("animPlayer")]
script = ExtResource("4_00rf5")
mapStateStringAnim = {
"ALERT": "WalkTest1",
"IDLE": "Idletest",
"TALKING": "Chat1"
}
animPlayer = NodePath("../AnimationPlayer")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="." index="4"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="." index="5"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.39857, 0)
shape = SubResource("CapsuleShape3D_58h4l")
